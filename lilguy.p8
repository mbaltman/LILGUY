pico-8 cartridge // http://www.pico-8.com
version 38
__lua__
opp_x=0 opp_y=0

function _init()
poke4(0x5f10,0x8382.8180)
poke4(0x5f14,0x8786.8584)
poke4(0x5f18,0x8b8a.8988)
poke4(0x5f1c,0x8f8e.8d8c)
   opp_x = 50
   opp_y = 100
end

function _draw()
   cls()
   draw_background()
   draw_opossum(opp_x, opp_y)
   draw_foreground()
   camera(0,0)
end

function _update()
  can_climb = check_can_climb()
  if(btn(0)) opp_x -= 1
  if(btn(1)) opp_x += 1
  if(can_climb)
  then
    if(btn(2)) opp_y -= 1
  	 if(btn(3)) opp_y += 1
  end
  

end
   

-->8
function draw_background()
   palt()
   // draw building
   map(0,0 ,0,0,  16, 16,0)
   map(0,16,0,120,16,1,0)
   
   palt(0, false)
   palt(15,true) 
   
   draw_ladder(56,99,false)
   draw_ladder(56,107,false)
   draw_ladder(56,80, true)
   draw_ladder(64,72, true)
   draw_ladder(72,64, true)
   palt() 
end


function draw_foreground()  
   palt(0, false)
   palt(15,true) 
   draw_gate(10,20)
   draw_gate(64,52)
   draw_gate(10,84)
   palt()
end


function draw_opossum(sx,sy)
   spr(41,sx,sy)
end

function check_can_climb()
  return true
end
-->8
function draw_gate(x_pos, y_pos)  
   map(16,0,x_pos,y_pos,7,2,0)	
end

function draw_ladder(x_pos, y_pos, diagonal)
  if(diagonal)
  then
     spr(23,x_pos,y_pos,2,1) 
  else
     spr(28,x_pos,y_pos)
  end  
end
__gfx__
00000000c225522255555552255255525255555c00300000000000000000000000000000ffffffffffffffffffffffff00000000222222220000000000000000
00000000cc55555555555555555555555255555c0bb03000003b00000000000000000000ffffffffffffffffffffffff000000002cccccc20000000000000000
00700700cc5555555552555555555555555552ccbb3333b33333bb300000000000000000ffffffffffffffffffffffff000000002cc6ccc20000000000000000
00077000c555225555555555552255555552552c33333333333333330000000000000000ffffffffffffffffffffffff000000002c66ccc20000000000000000
00077000c555225525555522555255555555552c2222222222222222000000000000000000000000000000000000000f000000002c6cccc20000000000000000
00700700cc5555525555255255555555555555cc552555555555555500000000000000000f0f0f0f0f0f0f0f0f0f0f0f000000002cccccc20000000000000000
00000000cc5555225555555555555552555552cc552555555555555500000000000000000f0f0f0f0f0f0f0f0f0f0f0f000000002cc22cc20000000000000000
00000000c252525555525255255555525555555c552555555555555500000000000000000f0f0f0f0f0f0f0f0f0f0f0f00000000222222220000000000000000
00000000c555255525522555552555555255525c0000000000000000ffffffffff00f0f00f0f0f0f0f0f0f0f0f0f0f0ff000000f2cccccc20000000000000000
00000000cc2255555552555255255555555555cc0000000000000000fffffffff00fff000f0f0f0f0f0f0f0f0f0f0f0ff0ffff0f2cccccc20000000000000000
00000000cc5225555555555225555522555555cc0000000000000000ffffffff00f0f00f0f0f0f0f0f0f0f0f0f0f0f0ff000000f2cccccc20000000000000000
00000000c525555555555255555555525555525c0000000000000000fffffff00fff00ff0f0f0f0f0f0f0f0f0f0f0f0ff0ffff0f2cccccc20000000000000000
00000000c555555252555552555555555522552c0000000000000000ffffff00f0f00fff0f0f0f0f0f0f0f0f0f0f0f0ff000000f2ccc66c20000000000000000
00000000cc5555252255552255555555255255cc0000000000000000fffff00fff00ffff0f0f0f0f0f0f0f0f0f0f0f0ff0ffff0f2ccc6cc20000000000000000
00000000cc2555555555255225555255255555cc0000000000000000ffff00f0f00fffff0f0f0f0f0f0f0f0f0f0f0f0ff000000f2cccccc20000000000000000
00000000c525525555555555255555555555525c0000000000000000fff00fff00ffffff00000000000000000000000ff0ffff0f222222220000000000000000
00000000000000000000000000000000000000000000000000000000ff00f0f00fffffff00077000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000ffffffffffffffff00007000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000ffffffffffffffff07777000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000ffffffffffffffff70000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000ffffffffffffffff70660000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000ffffffffffffffff76666500000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000ffffffffffffffff66666770000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000ffffffffffffffff6666677e000000000000000000000000000000000000000000000000
__map__
01121202020203031313030303020204090a0a0a0a0a0b000000000065666768696a6b6c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
01120203121313121213031202020214191a1a1a1a1a1b000000000075767778797a7b7c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11020d020d130d121212030d030d020400000000000000000000000085868788898a8b8c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
01031d131d021d121203031d121d020400000000000000000000000095969798999a9b9c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0113021302021212120302121202021400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0102131303121202131302121202030400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
01020d020d0303020313020d120d030400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11031d031d0202030313131d031d030400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0103020302021303030302121202031400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0103030202031302031312121202020400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
01030d020d031312030d120d020d020400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11021d021d021212121d121d031d030400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1102020312121212131312130303031400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1112121203031213121212121303031400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0103121203121213131303031303031400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0102030202030302020303020202030400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0605060605060605060605060605060600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
